!function(C){"use strict";var g={};function r(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),C(this).ajaxSubmit(t))}function a(e){var t=e.target,r=C(t);if(!r.is("[type=submit],[type=image]")){var a=r.closest("[type=submit]");if(0===a.length)return;t=a[0]}var n=this;if("image"==(n.clk=t).type)if(void 0!==e.offsetX)n.clk_x=e.offsetX,n.clk_y=e.offsetY;else if("function"==typeof C.fn.offset){var i=r.offset();n.clk_x=e.pageX-i.left,n.clk_y=e.pageY-i.top}else n.clk_x=e.pageX-t.offsetLeft,n.clk_y=e.pageY-t.offsetTop;setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)}function _(){if(C.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}g.fileapi=void 0!==C("<input type='file'/>").get(0).files,g.formdata=void 0!==window.FormData,C.fn.ajaxSubmit=function(M){if(!this.length)return _("ajaxSubmit: skipping submit process - no element selected"),this;var F,e,t,O=this;"function"==typeof M&&(M={success:M}),F=this.attr("method"),(t=(t="string"==typeof(e=this.attr("action"))?C.trim(e):"")||window.location.href||"")&&(t=(t.match(/^([^#]+)/)||[])[1]),M=C.extend(!0,{url:t,success:C.ajaxSettings.success,type:F||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},M);var r={};if(this.trigger("form-pre-serialize",[this,M,r]),r.veto)return _("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(M.beforeSerialize&&!1===M.beforeSerialize(this,M))return _("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var a=M.traditional;void 0===a&&(a=C.ajaxSettings.traditional);var n,X=[],i=this.formToArray(M.semantic,X);if(M.data&&(M.extraData=M.data,n=C.param(M.data,a)),M.beforeSubmit&&!1===M.beforeSubmit(i,this,M))return _("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[i,this,M,r]),r.veto)return _("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var o=C.param(i,a);n&&(o=o?o+"&"+n:n),"GET"==M.type.toUpperCase()?(M.url+=(0<=M.url.indexOf("?")?"&":"?")+o,M.data=null):M.data=o;var s=[];if(M.resetForm&&s.push(function(){O.resetForm()}),M.clearForm&&s.push(function(){O.clearForm(M.includeHidden)}),!M.dataType&&M.target){var u=M.success||function(){};s.push(function(e){var t=M.replaceTarget?"replaceWith":"html";C(M.target)[t](e).each(u,arguments)})}else M.success&&s.push(M.success);M.success=function(e,t,r){for(var a=M.context||this,n=0,i=s.length;n<i;n++)s[n].apply(a,[e,t,r||O,O])};var l=0<C('input[type=file]:enabled[value!=""]',this).length,c="multipart/form-data",f=O.attr("enctype")==c||O.attr("encoding")==c,m=g.fileapi&&g.formdata;_("fileAPI :"+m);var d,p=(l||f)&&!m;!1!==M.iframe&&(M.iframe||p)?M.closeKeepAlive?C.get(M.closeKeepAlive,function(){d=v(i)}):d=v(i):d=(l||f)&&m?function(e){for(var r=new FormData,t=0;t<e.length;t++)r.append(e[t].name,e[t].value);if(M.extraData){var a=function(e){var t,r,a=C.param(e).split("&"),n=a.length,i={};for(t=0;t<n;t++)r=a[t].split("="),i[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return i}(M.extraData);for(var n in a)a.hasOwnProperty(n)&&r.append(n,a[n])}M.data=null;var i=C.extend(!0,{},C.ajaxSettings,M,{contentType:!1,processData:!1,cache:!1,type:F||"POST"});M.uploadProgress&&(i.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&(e.upload.onprogress=function(e){var t=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(r/a*100)),M.uploadProgress(e,r,a,t)}),e});i.data=null;var o=i.beforeSend;return i.beforeSend=function(e,t){t.data=r,o&&o.call(this,e,t)},C.ajax(i)}(i):C.ajax(M),O.removeData("jqxhr").data("jqxhr",d);for(var h=0;h<X.length;h++)X[h]=null;return this.trigger("form-submit-notify",[this,M]),this;function v(e){var t,r,c,f,n,m,d,p,a,i,h,v,o=O[0],s=!!C.fn.prop,g=C.Deferred();if(C("[name=submit],[id=submit]",o).length)return alert('Error: Form elements must not have name or id of "submit".'),g.reject(),g;if(e)for(r=0;r<X.length;r++)t=C(X[r]),s?t.prop("disabled",!1):t.removeAttr("disabled");if((c=C.extend(!0,{},C.ajaxSettings,M)).context=c.context||c,n="jqFormIO"+(new Date).getTime(),c.iframeTarget?(i=(m=C(c.iframeTarget)).attr("name"))?n=i:m.attr("name",n):(m=C('<iframe name="'+n+'" src="'+c.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),d=m[0],p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";if(_("aborting upload... "+t),this.aborted=1,d.contentWindow.document.execCommand)try{d.contentWindow.document.execCommand("Stop")}catch(e){}m.attr("src",c.iframeSrc),p.error=t,c.error&&c.error.call(c.context,p,t,e),f&&C.event.trigger("ajaxError",[p,c,t]),c.complete&&c.complete.call(c.context,p,t)}},(f=c.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f&&C.event.trigger("ajaxSend",[p,c]),c.beforeSend&&!1===c.beforeSend.call(c.context,p,c))return c.global&&C.active--,g.reject(),g;if(p.aborted)return g.reject(),g;(a=o.clk)&&(i=a.name)&&!a.disabled&&(c.extraData=c.extraData||{},c.extraData[i]=a.value,"image"==a.type&&(c.extraData[i+".x"]=o.clk_x,c.extraData[i+".y"]=o.clk_y));var x=1,b=2;function y(e){return e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document}var u=C("meta[name=csrf-token]").attr("content"),l=C("meta[name=csrf-param]").attr("content");function T(){var e=O.attr("target"),t=O.attr("action");o.setAttribute("target",n),F||o.setAttribute("method","POST"),t!=c.url&&o.setAttribute("action",c.url),c.skipEncodingOverride||F&&!/post/i.test(F)||O.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),c.timeout&&(v=setTimeout(function(){h=!0,D(x)},c.timeout));var r=[];try{if(c.extraData)for(var a in c.extraData)c.extraData.hasOwnProperty(a)&&(C.isPlainObject(c.extraData[a])&&c.extraData[a].hasOwnProperty("name")&&c.extraData[a].hasOwnProperty("value")?r.push(C('<input type="hidden" name="'+c.extraData[a].name+'">').attr("value",c.extraData[a].value).appendTo(o)[0]):r.push(C('<input type="hidden" name="'+a+'">').attr("value",c.extraData[a]).appendTo(o)[0]));c.iframeTarget||(m.appendTo("body"),d.attachEvent?d.attachEvent("onload",D):d.addEventListener("load",D,!1)),setTimeout(function e(){try{var t=y(d).readyState;_("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){_("Server abort: ",e," (",e.name,")"),D(b),v&&clearTimeout(v),v=void 0}},15),o.submit()}finally{o.setAttribute("action",t),e?o.setAttribute("target",e):O.removeAttr("target"),C(r).remove()}}l&&u&&(c.extraData=c.extraData||{},c.extraData[l]=u),c.forceSync?T():setTimeout(T,10);var j,w,S,k=50;function D(t){if(!p.aborted&&!S){try{w=y(d)}catch(e){_("cannot access response document: ",e),t=b}if(t===x&&p)return p.abort("timeout"),void g.reject(p,"timeout");if(t==b&&p)return p.abort("server abort"),void g.reject(p,"error","server abort");if(w&&w.location.href!=c.iframeSrc||h){d.detachEvent?d.detachEvent("onload",D):d.removeEventListener("load",D,!1);var e,r="success";try{if(h)throw"timeout";var a="xml"==c.dataType||w.XMLDocument||C.isXMLDoc(w);if(_("isXml="+a),!a&&window.opera&&(null===w.body||!w.body.innerHTML)&&--k)return _("requeing onLoad callback, DOM not available"),void setTimeout(D,250);var n=w.body?w.body:w.documentElement;p.responseText=n?n.innerHTML:null,p.responseXML=w.XMLDocument?w.XMLDocument:w,a&&(c.dataType="xml"),p.getResponseHeader=function(e){return{"content-type":c.dataType}[e]},n&&(p.status=Number(n.getAttribute("status"))||p.status,p.statusText=n.getAttribute("statusText")||p.statusText);var i=(c.dataType||"").toLowerCase(),o=/(json|script|text)/.test(i);if(o||c.textarea){var s=w.getElementsByTagName("textarea")[0];if(s)p.responseText=s.value,p.status=Number(s.getAttribute("status"))||p.status,p.statusText=s.getAttribute("statusText")||p.statusText;else if(o){var u=w.getElementsByTagName("pre")[0],l=w.getElementsByTagName("body")[0];u?p.responseText=u.textContent?u.textContent:u.innerText:l&&(p.responseText=l.textContent?l.textContent:l.innerText)}}else"xml"==i&&!p.responseXML&&p.responseText&&(p.responseXML=A(p.responseText));try{j=E(p,i,c)}catch(t){r="parsererror",p.error=e=t||r}}catch(t){_("error caught: ",t),r="error",p.error=e=t||r}p.aborted&&(_("upload aborted"),r=null),p.status&&(r=200<=p.status&&p.status<300||304===p.status?"success":"error"),"success"===r?(c.success&&c.success.call(c.context,j,"success",p),g.resolve(p.responseText,"success",p),f&&C.event.trigger("ajaxSuccess",[p,c])):r&&(void 0===e&&(e=p.statusText),c.error&&c.error.call(c.context,p,r,e),g.reject(p,"error",e),f&&C.event.trigger("ajaxError",[p,c,e])),f&&C.event.trigger("ajaxComplete",[p,c]),f&&!--C.active&&C.event.trigger("ajaxStop"),c.complete&&c.complete.call(c.context,p,r),S=!0,c.timeout&&clearTimeout(v),setTimeout(function(){c.iframeTarget||m.remove(),p.responseXML=null},100)}}}var A=C.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},L=C.parseJSON||function(e){return window.eval("("+e+")")},E=function(e,t,r){var a=e.getResponseHeader("content-type")||"",n="xml"===t||!t&&0<=a.indexOf("xml"),i=n?e.responseXML:e.responseText;return n&&"parsererror"===i.documentElement.nodeName&&C.error&&C.error("parsererror"),r&&r.dataFilter&&(i=r.dataFilter(i,t)),"string"==typeof i&&("json"===t||!t&&0<=a.indexOf("json")?i=L(i):("script"===t||!t&&0<=a.indexOf("javascript"))&&C.globalEval(i)),i};return g}},C.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&C.isFunction(C.fn.on),!e.delegation&&0===this.length){var t={s:this.selector,c:this.context};return!C.isReady&&t.s?(_("DOM not ready, queuing ajaxForm"),C(function(){C(t.s,t.c).ajaxForm(e)})):_("terminating; zero elements found by selector"+(C.isReady?"":" (DOM not ready)")),this}return e.delegation?(C(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,e,r).on("click.form-plugin",this.selector,e,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,r).bind("click.form-plugin",e,a)},C.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},C.fn.formToArray=function(e,t){var r=[];if(0===this.length)return r;var a,n,i,o,s,u,l,c=this[0],f=e?c.getElementsByTagName("*"):c.elements;if(!f)return r;for(a=0,u=f.length;a<u;a++)if(i=(s=f[a]).name)if(e&&c.clk&&"image"==s.type)s.disabled||c.clk!=s||(r.push({name:i,value:C(s).val(),type:s.type}),r.push({name:i+".x",value:c.clk_x},{name:i+".y",value:c.clk_y}));else if((o=C.fieldValue(s,!0))&&o.constructor==Array)for(t&&t.push(s),n=0,l=o.length;n<l;n++)r.push({name:i,value:o[n]});else if(g.fileapi&&"file"==s.type&&!s.disabled){t&&t.push(s);var m=s.files;if(m.length)for(n=0;n<m.length;n++)r.push({name:i,value:m[n],type:s.type});else r.push({name:i,value:"",type:s.type})}else null!=o&&(t&&t.push(s),r.push({name:i,value:o,type:s.type,required:s.required}));if(!e&&c.clk){var d=C(c.clk),p=d[0];(i=p.name)&&!p.disabled&&"image"==p.type&&(r.push({name:i,value:d.val()}),r.push({name:i+".x",value:c.clk_x},{name:i+".y",value:c.clk_y}))}return r},C.fn.formSerialize=function(e){return C.param(this.formToArray(e))},C.fn.fieldSerialize=function(n){var i=[];return this.each(function(){var e=this.name;if(e){var t=C.fieldValue(this,n);if(t&&t.constructor==Array)for(var r=0,a=t.length;r<a;r++)i.push({name:e,value:t[r]});else null!=t&&i.push({name:this.name,value:t})}}),C.param(i)},C.fn.fieldValue=function(e){for(var t=[],r=0,a=this.length;r<a;r++){var n=this[r],i=C.fieldValue(n,e);null==i||i.constructor==Array&&!i.length||(i.constructor==Array?C.merge(t,i):t.push(i))}return t},C.fieldValue=function(e,t){var r=e.name,a=e.type,n=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!r||e.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!e.checked||("submit"==a||"image"==a)&&e.form&&e.form.clk!=e||"select"==n&&-1==e.selectedIndex))return null;if("select"==n){var i=e.selectedIndex;if(i<0)return null;for(var o=[],s=e.options,u="select-one"==a,l=u?i+1:s.length,c=u?i:0;c<l;c++){var f=s[c];if(f.selected){var m=f.value;if(m||(m=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),u)return m;o.push(m)}}return o}return C(e).val()},C.fn.clearForm=function(e){return this.each(function(){C("input,select,textarea",this).clearFields(e)})},C.fn.clearFields=C.fn.clearInputs=function(r){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:r&&(!0===r&&/hidden/.test(e)||"string"==typeof r&&C(this).is(r))&&(this.value="")})},C.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},C.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},C.fn.selected=function(r){return void 0===r&&(r=!0),this.each(function(){var e=this.type;if("checkbox"==e||"radio"==e)this.checked=r;else if("option"==this.tagName.toLowerCase()){var t=C(this).parent("select");r&&t[0]&&"select-one"==t[0].type&&t.find("option").selected(!1),this.selected=r}})},C.fn.ajaxSubmit.debug=!1}(jQuery);